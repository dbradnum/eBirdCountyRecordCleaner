if (
  # Make sure that {rstudioapi} is available
  requireNamespace("rstudioapi", quietly = TRUE) &&
  # Returns TRUE if RStudio is running
  rstudioapi::hasFun("viewer")
) {
  options(shiny.launch.browser = your_choice_here)
}
